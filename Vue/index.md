## routerCreate

### 1. 前端路由是什么？
**前端路由** 是 SPA 应用必备的功能,每个现代前端框架都有对应的实现,例如vue-router、react-router

SPA 单页 web 应用，指的是一个应用只有一个主页面，切换页面的的功能直接由前端完成，而不是后端渲染完毕前端只负责显示。<br>
而是利用 JS 动态的变换 DOM 的内容并同步修改 url 地址，在路由切换时替换 DOM Tree 中最小修改的部分 DOM，来减少原先因为多页应用的页面跳转带来的巨量性能损耗，模拟多个视图间的跳转。

### 2. 如何实现路由
从前端路由的原理我们可以知道，实现前端路由要解决的两个问题
1. 如何改变 URL 但是不引发页面的刷新？
2. 如何监听 URL 改变了？

目前有两种方式：
- 基于 hash 的前端路由
- 基于 H5 history 的前端路由

#### 2.1 hash 路由
hash 是 URL 中 hash (#) 及后面的那部分，常用作锚点（例如a标签）在页面内进行导航，改变 URL 中的 hash 部分不会引起页面刷新。（锚点定位原理可进行无刷新跳转）

所以 hash 路由原理就是：
> 监听 url 中 hash 的变化，然后渲染不同的内容，这种路由不向服务器发送请求，不需要服务端的支持

#### 2.2 history 路由
history 提供了 pushState 和 replaceState 两个方法，这两个方法可以在不进行刷新的情况下，操作浏览器的历史记录。


浏览器访问一个页面时，当前地址的信息会被压入 `历史栈`，当调用 `history.pushState()` 方法向历史栈压入一个新的 `state` 后。历史栈顶部的指针是指向新的 `state `的。可以将其作用简单理解为 假装已经修改了 url 地址并进行了跳转 ，除非用户点击了浏览器的前进，回退，或是显式调用 HTML4 中的操作历史栈的方法，否则不会触发全局的 `popstate`事件。pushState 和 replaceState 两个方法都不会触发`popstate`事件


监听 url 中的路径变化，需要客户端和服务端共同的支持

#### 2.3 hash路由 与 history路由 的区别

值得一提的是，Hash 和 History 除了外观上的不同之外，还一个区别是：Hash 方式的状态保存需要另行传递，而 HTML5 History 原生提供了自定义状态传递的能力，我们可以直接利用其来传递信息

## 参考文章
- [前端路由跳转基本原理](https://juejin.im/post/6844903773219848206)
- [前端路由Hash与History模式](https://segmentfault.com/a/1190000020888923)
- [javascript基础修炼(6)——前端路由的基本原理](https://www.cnblogs.com/dashnowords/p/9671213.html)